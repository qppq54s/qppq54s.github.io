[
  {
    "filename": "data.js",
    "code": "import Node from './node.js';\nimport Edge from './edge';\n\nexport default {\n  nodes: [\n    {\n      id: '1',\n      label: 'Number',\n      className: 'icon-background',\n      iconType: 'icon-wo',\n      top: 25,\n      left: 380,\n      Class: Node,\n      endpoints: [{\n        id: 'bottom',\n        orientation: [0, 1],\n        pos: [0.5, 0]\n      }]\n    },\n    {\n      id: '2',\n      label: 'Name',\n      className: 'icon-background',\n      iconType: 'icon-wo',\n      top: 25,\n      left: 520,\n      Class: Node,\n      endpoints: [{\n        id: 'bottom',\n        orientation: [0, 1],\n        pos: [0.5, 0]\n      }]\n    },\n    {\n      id: '3',\n      label: 'Skills',\n      className: 'icon-background',\n      iconType: 'icon-wo',\n      top: 25,\n      left: 660,\n      Class: Node,\n      endpoints: [{\n        id: 'bottom',\n        orientation: [0, 1],\n        pos: [0.5, 0]\n      }]\n    },\n    {\n      id: '4',\n      label: 'Employee',\n      className: 'icon-background',\n      iconType: 'icon-guanlian',\n      top: 125,\n      left: 520,\n      Class: Node,\n      endpoints: [{\n        id: 'top',\n        orientation: [0, -1],\n        pos: [0.5, 0]\n      }, {\n        id: 'right',\n        orientation: [1, 0],\n        pos: [0, 0.5]\n      }, {\n        id: 'bottom',\n        orientation: [0, 1],\n        pos: [0.5, 0]\n      }]\n    },\n    {\n      id: '5',\n      label: 'Gets Paid',\n      className: 'icon-background',\n      iconType: 'icon-rds',\n      top: 125,\n      left: 740,\n      Class: Node,\n      endpoints: [{\n        id: 'right',\n        orientation: [1, 0],\n        pos: [0, 0.5]\n      }, {\n        id: 'left',\n        orientation: [-1, 0],\n        pos: [0, 0.5]\n      }]\n    },\n    {\n      id: '6',\n      label: 'Wage',\n      className: 'icon-background',\n      iconType: 'icon-guanlian',\n      top: 125,\n      left: 960,\n      Class: Node,\n      endpoints: [{\n        id: 'bottom',\n        orientation: [0, 1],\n        pos: [0.5, 0]\n      }, {\n        id: 'left',\n        orientation: [-1, 0],\n        pos: [0, 0.5]\n      }]\n    },\n    {\n      id: '7',\n      label: 'Amount',\n      className: 'icon-background',\n      iconType: 'icon-wo',\n      top: 225,\n      left: 800,\n      Class: Node,\n      endpoints: [{\n        id: 'top',\n        orientation: [0, -1],\n        pos: [0.5, 0]\n      }]\n    },\n    {\n      id: '8',\n      label: 'Date',\n      className: 'icon-background',\n      iconType: 'icon-wo',\n      top: 225,\n      left: 1120,\n      Class: Node,\n      endpoints: [{\n        id: 'top',\n        orientation: [0, -1],\n        pos: [0.5, 0]\n      }]\n    },\n    {\n      id: '9',\n      label: 'Salesman',\n      className: 'icon-background',\n      iconType: 'icon-guanlian',\n      top: 275,\n      left: 520,\n      Class: Node,\n      endpoints: [{\n        id: 'top',\n        orientation: [0, -1],\n        pos: [0.5, 0]\n      }, {\n        id: 'bottom',\n        orientation: [0, 1],\n        pos: [0.5, 0]\n      }]\n    },\n    {\n      id: '10',\n      label: 'User',\n      className: 'icon-background',\n      iconType: 'icon-guanlian',\n      top: 425,\n      left: 520,\n      Class: Node,\n      endpoints: [{\n        id: 'top',\n        orientation: [0, -1],\n        pos: [0.5, 0]\n      }, {\n        id: 'bottom',\n        orientation: [0, 1],\n        pos: [0.5, 0]\n      }]\n    },\n    {\n      id: '11',\n      label: 'Company',\n      className: 'icon-background',\n      iconType: 'icon-guanlian',\n      top: 575,\n      left: 520,\n      Class: Node,\n      endpoints: [{\n        id: 'top',\n        orientation: [0, -1],\n        pos: [0.5, 0]\n      }, {\n        id: 'bottom',\n        orientation: [0, 1],\n        pos: [0.5, 0]\n      }]\n    },\n    {\n      id: '12',\n      label: 'Plate',\n      className: 'icon-background',\n      iconType: 'icon-wo',\n      top: 725,\n      left: 520,\n      Class: Node,\n      endpoints: [{\n        id: 'top',\n        orientation: [0, -1],\n        pos: [0.5, 0]\n      }]\n    },\n  ],\n  edges: [\n    {\n      source: 'bottom',\n      target: 'top',\n      sourceNode: '1',\n      targetNode: '4',\n      type: 'endpoint',\n      arrow: true,\n      arrowPosition: 0.5,\n      Class: Edge\n    },\n    {\n      source: 'bottom',\n      target: 'top',\n      sourceNode: '2',\n      targetNode: '4',\n      type: 'endpoint',\n      arrow: true,\n      arrowPosition: 0.5,\n      Class: Edge\n    },\n    {\n      source: 'bottom',\n      target: 'top',\n      sourceNode: '3',\n      targetNode: '4',\n      type: 'endpoint',\n      arrow: true,\n      arrowPosition: 0.5,\n      Class: Edge\n    },\n    {\n      source: 'right',\n      target: 'left',\n      label: 1,\n      sourceNode: '4',\n      targetNode: '5',\n      type: 'endpoint',\n      arrow: true,\n      arrowPosition: 0.2,\n      Class: Edge\n    },\n    {\n      source: 'right',\n      target: 'left',\n      label: 'N',\n      sourceNode: '5',\n      targetNode: '6',\n      type: 'endpoint',\n      arrow: true,\n      arrowPosition: 0.2,\n      Class: Edge\n    },\n    {\n      source: 'bottom',\n      target: 'top',\n      sourceNode: '6',\n      targetNode: '7',\n      type: 'endpoint',\n      arrow: true,\n      arrowPosition: 0.5,\n      Class: Edge\n    },\n    {\n      source: 'bottom',\n      target: 'top',\n      sourceNode: '6',\n      targetNode: '8',\n      type: 'endpoint',\n      arrow: true,\n      arrowPosition: 0.5,\n      Class: Edge\n    },\n    {\n      source: 'bottom',\n      target: 'top',\n      label: 'ISA',\n      sourceNode: '4',\n      targetNode: '9',\n      type: 'endpoint',\n      arrow: true,\n      arrowPosition: 0.2,\n      Class: Edge\n    },\n    {\n      source: 'bottom',\n      target: 'top',\n      label: '0..1',\n      sourceNode: '9',\n      targetNode: '10',\n      type: 'endpoint',\n      arrow: true,\n      arrowPosition: 0.2,\n      Class: Edge\n    },\n    {\n      source: 'bottom',\n      target: 'top',\n      label: '1..1',\n      sourceNode: '10',\n      targetNode: '11',\n      type: 'endpoint',\n      arrow: true,\n      arrowPosition: 0.2,\n      Class: Edge\n    },\n    {\n      source: 'bottom',\n      target: 'top',\n      sourceNode: '11',\n      targetNode: '12',\n      type: 'endpoint',\n      arrow: true,\n      arrowPosition: 0.5,\n      Class: Edge\n    },\n  ]\n};\n\n"
  },
  {
    "filename": "edge.js",
    "code": "import {Edge} from 'butterfly-dag';\nimport $ from 'jquery';\n\nclass BaseEdge extends Edge {\n  draw(obj) {\n    let path = super.draw(obj);\n    if (this.options.color) {\n      $(path).addClass(this.options.color);\n    }\n    return path;\n  }\n  drawArrow(isShow) {\n    let dom = super.drawArrow(isShow);\n    if (this.options.color) {\n      $(dom).addClass(this.options.color);\n    }\n    return dom;\n  }\n  drawLabel(text) {\n    let dom = null;\n    if (text) {\n      dom = $(`<span class=\"label\">${text}</span>`)[0];\n    }\n    return dom;\n  }\n}\n\nexport default BaseEdge;\n"
  },
  {
    "filename": "index.jsx",
    "code": "import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {Canvas} from 'butterfly-dag';\nimport mockData from './data.js';\n\nimport './index.less';\nimport 'butterfly-dag/dist/index.css';\nclass Decision extends Component {\n  componentDidMount() {\n    let root = document.getElementById('dag-canvas');\n    this.canvas = new Canvas({\n      root: root,\n      disLinkable: true, // 可删除连线\n      linkable: true,    // 可连线\n      draggable: true,   // 可拖动\n      zoomable: true,    // 可放大\n      moveable: true,    // 可平移\n      theme: {\n        edge: {\n          shapeType: 'AdvancedBezier',\n          arrow: true\n        }\n      }\n    });\n    this.canvas.draw(mockData);\n  }\n\n  render() {\n    return (\n      <div className='decision'>\n        <div className=\"decision-canvas\" id=\"dag-canvas\">\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<Decision />, document.getElementById('root'));\n"
  },
  {
    "filename": "index.less",
    "code": "@import 'theme.less'; \n\n\n.decision {\n  width: 100%;\n  height: 100%;\n  .decision-canvas {\n    position: relative;\n    width: 100%;\n    height: 100%;\n  }\n  .label {\n    position: absolute;\n    width: 38px;\n    height: 22px;\n    background: @butterfly-theme-color;\n    text-align: center;\n    border-radius: @butterfly-box-radius;\n  }\n}"
  },
  {
    "filename": "node.js",
    "code": "'use strict';\n\n// const Node = require('../../../index.js').Node;\nimport {Node} from 'butterfly-dag';\nimport $ from 'jquery';\nimport './node.less';\n\nclass BaseNode extends Node {\n  constructor(opts) {\n    super(opts);\n    this.options = opts;\n  }\n  draw = (opts) => {\n    let container = $('<div class=\"decision-node\"></div>')\n      .attr('id', opts.id)\n      .css('top', opts.top + 'px')\n      .css('left', opts.left + 'px');\n\n    this._createTypeIcon(container);\n    this._createText(container);\n\n    return container[0];\n  }\n  _createTypeIcon(dom = this.dom) {\n    const iconContainer = $(`<span class=\"icon-box ${this.options.className}\"></span>`)[0];\n    const icon = $(`<i class=\"iconfont ${this.options.iconType}\"></i>`)[0];\n\n    iconContainer.append(icon);\n    $(dom).append(iconContainer);\n  }\n\n  _createText(dom = this.dom) {\n    $('<span class=\"text-box\"></span>').text(this.options.label).appendTo(dom);\n  }\n}\n\nexport default BaseNode;\n"
  },
  {
    "filename": "node.less",
    "code": "@import 'theme.less'; \n\n\n.decision-node {\n  position: absolute;\n  height: 36px;\n  width: 116px;\n  line-height: 36px;\n  text-align: center;\n  background: @butterfly-theme-color;\n  border-radius: 100px;\n  border: @butterfly-box-border;\n  box-shadow: @butterfly-box-shadow;\n  color:@butterfly-normal-font-color;\n  .icon-box {\n    display: inline-block;\n    height: 30px;\n    line-height: 30px;\n    width: 30px;\n    border-radius: 15px;\n    position: relative;\n    left: 2px;\n    .iconfont {\n      color: @butterfly-overlay-font-color;\n    }\n  }\n  .text-box {\n    display: inline-block;\n    height: 36px;\n    width: 84px;\n    padding: 0 10px;\n    line-height: 36px;\n    font-size: 12px;\n    vertical-align: bottom;\n  }\n  .icon-background{\n    background: @butterfly-primary-color;\n  }\n}\n"
  },
  {
    "filename": "package.json",
    "code": "{\n  \"name\": \"decision\",\n  \"cn_name\": \"决策树\",\n  \"description\": \"a decision tree\",\n  \"cn_description\": \"决策树场景DAG\",\n  \"dependencies\": {\n    \"butterfly-dag\": \"*\",\n    \"react\": \"^16.0.0\",\n    \"react-dom\": \"^16.0.0\",\n    \"jquery\": \"*\",\n    \"lodash\": \"*\"\n  }\n}"
  },
  {
    "filename": "theme.less",
    "code": "@butterfly-theme-color-base:#fff;\n@butterfly-normal-font-color-base:#222;;\n@butterfly-overlay-font-color-base:#FFF;\n@butterfly-primary-color-base:#F66902;\n@butterfly-box-border-color-base: #D9D9D9;\n@butterfly-box-shadow-base:0 2px 3px 0 rgba(0,112,204,0.06);\n@butterfly-box-radius-base:100px;\n@butterfly-line-color-base: #BFBFBF;\n// 主题背景色（画布背景色）\n@butterfly-theme-background-color: @butterfly-theme-color-base;\n// （各图形框）普通情况背景色\n@butterfly-theme-color: fade(@butterfly-theme-color-base,80%);\n// 主题色\n@butterfly-primary-color: @butterfly-primary-color-base;\n// 普通情况下字体颜色\n@butterfly-normal-font-color: @butterfly-normal-font-color-base;\n// 主题背景色上的字体颜色及icon颜色\n@butterfly-overlay-font-color: @butterfly-overlay-font-color-base;\n// 拖动时的背景色\n@butterfly-box-move-background-color: fade(@butterfly-primary-color, 20%);\n// 边框的样式\n@butterfly-box-border: 1px solid @butterfly-box-border-color-base;\n@butterfly-box-shadow: @butterfly-box-shadow-base;\n@butterfly-box-radius: @butterfly-box-radius-base;\n@butterfly-box-node-border-hover: 1px solid @butterfly-primary-color;\n// 线条样式\n@butterfly-line-color: @butterfly-line-color-base;"
  }
]