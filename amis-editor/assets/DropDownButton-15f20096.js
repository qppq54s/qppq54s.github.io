import{a as x,h as F,j as G,r as A,z as W,R as s,I as E,C as H,D as J,E as K,d,G as L,J as j,O as q,P as Q,T as X,K as B,l as Y,M as Z,e as ee,f as te}from"./main-42426a16.js";var oe=function(h){x(i,h);function i(e){var t=h.call(this,e)||this;return t.state={isOpened:!1},t.open=t.open.bind(t),t.close=t.close.bind(t),t.toogle=t.toogle.bind(t),t.keepOpen=t.keepOpen.bind(t),t.domRef=t.domRef.bind(t),t}return i.prototype.componentDidMount=function(){this.props.defaultIsOpened&&this.setState({isOpened:!0})},i.prototype.domRef=function(e){this.target=e},i.prototype.toogle=function(e){e.preventDefault(),e.stopPropagation(),this.setState({isOpened:!this.state.isOpened})},i.prototype.open=function(){return F(this,void 0,void 0,function(){var e,t,o,l,n,c,a;return G(this,function(r){switch(r.label){case 0:return e=this.props,t=e.dispatchEvent,o=e.data,l=e.buttons,n=e.disabled,c=e.btnDisabled,n||c?[2]:(a=typeof l=="string"?A(l,o,"| raw"):l,[4,t("mouseenter",W(o,{items:a}))]);case 1:return r.sent(),this.setState({isOpened:!0}),[2]}})})},i.prototype.close=function(e){var t=this,o,l,n=this.props,c=n.buttons,a=n.data,r=typeof c=="string"?A(c,a,"| raw"):c;this.timer=setTimeout(function(){t.props.dispatchEvent("mouseleave",W(t.props.data,{items:r})),t.setState({isOpened:!1})},200),!((l=(o=e==null?void 0:e.target)===null||o===void 0?void 0:o.getAttribute)===null||l===void 0)&&l.call(o,"download")||e&&e.preventDefault()},i.prototype.keepOpen=function(){this.timer&&clearTimeout(this.timer)},i.prototype.renderButton=function(e,t){var o,l=this,n=this.props,c=n.render,a=n.classnames,r=n.data,m=n.ignoreConfirm,u=n.testIdBuilder,f=n.mobileUI;return t=typeof t=="number"?t.toString():t,typeof e!="string"&&Array.isArray(e==null?void 0:e.children)?s.createElement("div",{key:t,className:a("DropDown-menu",{"is-mobile":f})},s.createElement("li",{key:"".concat(t,"/0"),className:a("DropDown-groupTitle")},e.icon?s.createElement(E,{cx:a,icon:e.icon,className:"m-r-xs"}):null,s.createElement("span",null,e.label)),e.children.map(function(v,g){return l.renderButton(v,"".concat(t,"/").concat(g+1))})):typeof e!="string"&&!H(e,r)?null:e==="divider"||e.type==="divider"?s.createElement("li",{key:t,className:a("DropDown-divider")}):s.createElement("li",{key:t,className:a("DropDown-button",(o={},o["is-disabled"]=J(e,r),o),typeof e.level>"u"?"":e.level?"Button--".concat(e.level):"",K(e.className,r))},c("button/".concat(t),d(d({type:"button"},e),{className:"",testIdBuilder:u==null?void 0:u.getChild(e.label||t,r)}),{isMenuItem:!0,ignoreConfirm:m}))},i.prototype.renderOuter=function(){var e=this,t,o=this.props,l=o.render,n=o.buttons,c=o.data,a=o.popOverContainer,r=o.popOverContainerSelector,m=o.classnames,u=o.classPrefix,f=o.children,v=o.body;o.align;var g=o.closeOnClick,y=o.closeOnOutside,b=o.menuClassName,k=o.overlayPlacement,I=o.trigger,R=o.mobileUI,p=typeof n=="string"?A(n,c,"| raw"):n,O=s.createElement(L,{disabled:!this.state.isOpened,onRootClose:y!==!1?this.close:j},function(S){var C;return s.createElement("ul",{className:m("DropDown-menu-root","DropDown-menu",{"is-mobile":R},b),onClick:g?e.close:j,onMouseEnter:e.keepOpen,ref:S,style:{width:(C=e.target)===null||C===void 0?void 0:C.offsetWidth}},f||(v?l("body",v):Array.isArray(p)?p.map(function(w,T){return e.renderButton(w,T)}):null))});return a||r?s.createElement(q,{container:a,containerSelector:r,target:function(){return e.target},placement:k,show:!0},s.createElement(Q,{overlay:I!=="hover",onHide:this.close,classPrefix:u,className:m("DropDown-popover",b),style:{minWidth:(t=this.target)===null||t===void 0?void 0:t.offsetWidth}},O)):O},i.prototype.render=function(){var e=this.props,t=e.tooltip,o=e.placement,l=e.tooltipContainer,n=e.tooltipTrigger,c=e.tooltipRootClose,a=e.disabledTip,r=e.block,m=e.disabled,u=e.btnDisabled,f=e.btnClassName,v=e.size,g=v===void 0?"default":v,y=e.label,b=e.level,k=e.primary,I=e.className,R=e.style,p=e.classnames,O=e.align,S=e.iconOnly,C=e.icon,w=e.rightIcon,T=e.isActived,M=e.trigger,U=e.data,V=e.hideCaret,N=e.env,P=e.testIdBuilder,D=e.id,z=e.wrapperCustomStyle,_=e.themeCss,$=e.mobileUI;return s.createElement("div",{className:p("DropDown ",{"DropDown--block":r,"DropDown--alignRight":O==="right","is-opened":this.state.isOpened,"is-actived":T,"is-mobile":$},I),style:R,onMouseEnter:M==="hover"?this.open:function(){},onMouseLeave:M==="hover"?this.close:function(){},ref:this.domRef},s.createElement(X,{placement:o,tooltip:m?a:t,container:l||(N==null?void 0:N.getModalContainer),trigger:n,rootClose:c},s.createElement("button",d({onClick:this.toogle,disabled:m||u},P==null?void 0:P.getTestId(U),{className:p("Button",f,typeof b>"u"?"Button--default":b?"Button--".concat(b):"",{"Button--block":r,"Button--primary":k,"Button--iconOnly":S},"Button--size-".concat(g),B(d(d({},this.props),{name:"wrapperCustomStyle",id:D,themeCss:z})),B(d(d({},this.props),{name:"className",id:D,themeCss:_})))}),s.createElement(E,{c:p,icon:C,className:p("icon m-r-xs",B(d(d({},this.props),{name:"iconClassName",id:D,themeCss:_})))}),typeof y=="string"?Y(y,U):y,w&&s.createElement(E,{cx:p,icon:w,className:p("icon m-l-xs",B(d(d({},this.props),{name:"iconClassName",id:D,themeCss:_})))}),V?null:s.createElement("span",{className:p("DropDown-caret")},s.createElement(E,{icon:"right-arrow-bold",className:"icon"})))),this.state.isOpened?this.renderOuter():null,s.createElement(Z,d({},this.props,{config:{themeCss:_,classNames:[{key:"className",weights:{hover:{suf:":not(:disabled):not(.is-disabled)"},active:{suf:":not(:disabled):not(.is-disabled)"}}},{key:"iconClassName",weights:{default:{important:!0},hover:{important:!0,suf:":not(:disabled):not(.is-disabled)"},active:{important:!0,suf:":not(:disabled):not(.is-disabled)"}}}],wrapperCustomStyle:z,id:D},env:N})))},i.defaultProps={placement:"top",tooltipTrigger:["hover","focus"],tooltipRootClose:!1,overlayPlacement:"auto"},i}(s.Component),ne=function(h){x(i,h);function i(){return h!==null&&h.apply(this,arguments)||this}return i=ee([te({type:"dropdown-button"})],i),i}(oe);export{ne as DropDownButtonRenderer,oe as default};
